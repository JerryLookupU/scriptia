# Scriptia 卡片设计规范

## 1. 卡片基础结构

### 1.1 四个基础字段
| 字段 | 说明 | 展示位置 |
|------|------|----------|
| **图片位置** | 卡片配图 URL | 卡片顶部/左侧图片区 |
| **名称** | 卡片标题 | 显著位置（图片遮罩上或内容区顶部） |
| **图片说明** | Alt 文本/Caption | 图片下方或悬停提示 |
| **类型名称** | IP角色/场景/剧情/梗指南 | 类型标签 |

### 1.2 图片配置（在卡片类型中设置）
```json
{
  "hasImage": true,        // 是否启用图片
  "ratio": "9:16"          // 图片比例：9:16 | 1:1 | 16:9
}
```

### 1.3 图片数据结构
```json
{
  "url": "/images/card_001.png",
  "prompt": "A professional tech reviewer...",  // 图片生成提示词
  "ratio": "9:16",                               // 图片比例
  "type": "full_body"                            // 图片类型
}
```

---

## 2. 卡片视觉样式

### 2.1 统一尺寸
- **卡片宽度**: 200px
- **卡片高度**: 300px
- **图片区域**: 根据比例自适应

### 2.2 两种布局样式

#### A. 9:16 人物卡（全图覆盖 + 翻转）
```
┌─────────────────┐
│      🎭         │  ← 图片全覆盖 (200×300)
│    [类型标签]    │  ← 左上角
│                 │
│  ┌───────────┐  │
│  │ 名称       │  │  ← 底部渐变遮罩
│  │ 描述       │  │
│  │ [标签]     │  │
│  └───────────┘  │
│         [翻转图标]│
└─────────────────┘
```

**交互**:
- 点击卡片翻转查看完整图片（背面无文字遮挡）
- 类型标签：没有设置时不显示
- 标签：没有时不渲染标签区域

#### B. 16:9 场景卡（上图下文）
```
┌─────────────────┐
│      🏙️         │  ← 16:9 图片 (200×112)
│    [类型标签]    │  ← 左上角（可选）
├─────────────────┤
│ [类型标签]       │  ← 内容区（可选）
│ 场景描述文字...  │
│                 │
│ ─────────────── │
│ 时间 · 氛围      │  ← 底部元信息
└─────────────────┘
```

**特点**:
- 无需翻转，所有信息直接可见
- 图片区域固定 112px 高
- 文字区域自适应剩余空间

---

## 3. 卡片详情弹窗

### 3.1 整体布局
```
┌─────────────────────────────────────────┐
│ 🎭 卡片详情                [引用] [保存] │
├─────────────────────────────────────────┤
│  ┌─────┐  ┌───────────────────────────┐ │
│  │ 🎭  │  │ 📝 优先展示                │ │
│  │     │  │ 卡片名称（可编辑）          │ │
│  │  ●  │  │ 卡片描述（可编辑）          │ │
│  └─────┘  └───────────────────────────┘ │
│  ┌───────┐  ┌─────────────────────────┐ │
│  │💡提示词│  │ 🎭 类型信息卡            │ │
│  │[可编辑]│  │ IP角色 · 9:16 全身立绘   │ │
│  │       │  └─────────────────────────┘ │
│  │[生成] │  ┌──────────┐ ┌──────────┐  │ │
│  └───────┘  │ 口头禅   │ │ 擅长领域 │  │ │
│             │（可编辑） │ │（可编辑）│  │ │
│             └──────────┘ └──────────┘  │ │
│             ┌────────────────────────┐  │ │
│             │ 标签 [测评][数码][+][] │  │ │
│             └────────────────────────┘  │ │
└─────────────────────────────────────────┘
```

### 3.2 左侧图片区
| 元素 | 说明 |
|------|------|
| **大图预览** | 200×356px (9:16) 或 200×112px (16:9) |
| **提示词编辑区** | 图片下方，可编辑的文本域 |
| **生成图片按钮** | 提示词下方，主要按钮样式 |

### 3.3 右侧内容区

#### 优先展示字段（高亮背景）
| 字段 | 类型 | 说明 |
|------|------|------|
| **卡片名称** | 单行文本 | 大标题样式，渐变文字效果 |
| **卡片描述** | 多行文本 | 用于缩略图展示 |

#### 类型信息卡
- 类型图标 + 类型名称 + 图片比例信息
- 只读展示

#### 其他字段（可配置）
- 口头禅、擅长领域等
- 点击即可编辑
- 标签支持添加/删除

---

## 4. 编辑交互规范

### 4.1 点击即可编辑
- 所有文本区域点击后进入编辑状态
- Hover 时显示边框提示
- Focus 时显示蓝色光晕阴影

### 4.2 标签编辑
```
[测评] [数码] [生活] [+]  ← 点击 + 添加标签
```
- 每个标签右侧有 × 按钮可删除
- 点击 + 按钮输入新标签
- 回车或失焦自动保存

### 4.3 图片生成流程
1. 编辑提示词
2. 点击"生成图片"按钮
3. 加载状态 → 生成完成更新图片

---

## 5. 数据结构规范

### 5.1 卡片类型定义
```json
{
  "id": "ip_character",
  "name": "IP角色",
  "color": "#ec4899",
  "icon": "🎭",
  "imageConfig": {
    "enabled": true,
    "ratio": "9:16"
  },
  "fields": [
    { "id": "catchphrase", "label": "口头禅", "type": "text" },
    { "id": "expertise", "label": "擅长领域", "type": "text" }
  ]
}
```

### 5.2 卡片数据
```json
{
  "id": "card_001",
  "typeId": "ip_character",
  "name": "毒舌测评博主 · 小李",
  "description": "专业测评博主...",
  
  "image": {
    "url": "/images/card_001.png",
    "prompt": "A professional tech reviewer...",
    "ratio": "9:16",
    "type": "full_body"
  },
  
  "fields": {
    "catchphrase": "这玩意儿值不值？",
    "expertise": "3C数码、生活用品",
    "tags": ["测评", "数码", "生活"]
  }
}
```

---

## 6. 按钮设计规范

### 6.1 按钮类型

#### 主要按钮 (Primary)
用于主要操作，如保存、查看、生成等核心功能。

| 属性 | 值 |
|------|-----|
| 背景色 | `#2d3436` |
| 文字色 | `#ffffff` |
| 悬停背景 | `#636e72` |
| 圆角 | `8px` |
| 内边距 | `8px 16px` |
| 字体大小 | `13px` |
| 字重 | `500` |

**交互效果：**
- Hover：背景变浅 (#636e72)
- Active：缩放至 0.98
- 过渡时间：0.2s ease

#### 次要按钮 (Secondary)
用于辅助操作，如引用、折叠、配图等次要功能。

| 属性 | 值 |
|------|-----|
| 背景色 | `#f1f3f4` |
| 文字色 | `#5f6368` |
| 悬停背景 | `#e8eaed` |
| 悬停文字 | `#3c4043` |
| 圆角 | `8px` |
| 内边距 | `8px 16px` |
| 字体大小 | `13px` |
| 字重 | `500` |

**交互效果：**
- Hover：背景略微加深
- Active：缩放至 0.98
- 无边框，纯背景色设计

#### 图标按钮 (Icon Button)
用于卡片右上角的控制按钮（翻转、详情）。

| 属性 | 值 |
|------|-----|
| 尺寸 | `32px × 32px` |
| 背景 | `rgba(0, 0, 0, 0.5)` |
| 边框 | `1px solid rgba(255, 255, 255, 0.2)` |
| 文字色 | `rgba(255, 255, 255, 0.95)` |
| 圆角 | `8px` |
| 字体大小 | `14px` |

**交互效果：**
- Hover：背景加深至 0.7，边框变亮
- Active：缩放至 0.95
- 毛玻璃效果：backdrop-filter: blur(4px)

#### 关闭按钮 (Close)
用于弹窗关闭，与次要按钮风格一致。

| 属性 | 值 |
|------|-----|
| 尺寸 | `36px × 36px` |
| 背景 | `#f1f3f4` |
| 文字色 | `#5f6368` |
| 圆角 | `8px` |
| 图标 | `✕` |

#### 展开按钮 (Expand)
用于折叠卡片，较小的按钮尺寸。

| 属性 | 值 |
|------|-----|
| 高度 | `32px` |
| 内边距 | `0 14px` |
| 背景 | `#f1f3f4` |
| 文字色 | `#5f6368` |
| 圆角 | `8px` |
| 字体大小 | `12px` |

#### 生成按钮 (Generate)
用于图片生成，宽度填满容器。

| 属性 | 值 |
|------|-----|
| 高度 | `40px` |
| 宽度 | `100%` |
| 背景 | `#2d3436` |
| 文字色 | `#ffffff` |
| 圆角 | `8px` |

#### 标签操作按钮

**标签移除按钮：**
| 属性 | 值 |
|------|-----|
| 尺寸 | `20px × 20px` |
| 背景 | 透明 |
| 文字色 | `#9ca3af`（浅灰） |
| 悬停背景 | `#f1f3f4` |
| 悬停文字 | `#5f6368` |
| 圆角 | `50%` |

**标签添加按钮 (+)：**
| 属性 | 值 |
|------|-----|
| 尺寸 | `28px × 28px` |
| 背景 | `#f1f3f4` |
| 文字色 | `#5f6368` |
| 圆角 | `50%` |

### 6.2 按钮布局规范

**卡片操作按钮 (card-actions)：**
```
┌─────────────────────┐
│ [次要] [次要] [主要] │  ← gap: 8px
└─────────────────────┘
```
- 水平排列，右对齐
- 按钮间距：8px
- 次要按钮在前，主要按钮在后

**弹窗头部按钮 (modal-actions)：**
```
┌──────────────────────────┐
│         [引用] [保存] [✕] │  ← 关闭按钮在最右侧
└──────────────────────────┘
```

**对话卡片底部按钮 (message-card-footer)：**
```
┌──────────────────────────────┐
│ [折叠] [配图]        [保存]   │  ← 主要按钮右对齐
└──────────────────────────────┘
```

### 6.3 按钮交互原则

1. **一致性**：所有按钮使用统一的圆角 (8px) 和过渡动画 (0.2s ease)
2. **反馈**：所有按钮必须有 Hover 和 Active 状态
3. **层级**：主要按钮使用深色，次要按钮使用浅灰色
4. **间距**：按钮之间保持 8px 间距
5. **尺寸**：
   - 常规按钮：高度 32-40px
   - 图标按钮：32px × 32px
   - 标签按钮：20-28px

---

## 7. 视觉规范

### 7.1 颜色
| 类型 | 色值 | 用途 |
|------|------|------|
| IP角色 | #e8590c | 橙红色 |
| 场景 | #2f9e44 | 绿色 |
| 剧情 | #1971c2 | 蓝色 |
| 梗指南 | #be4bdb | 紫色 |
| 主要按钮 | #2d3436 | 深灰 |
| 次要按钮 | #f1f3f4 | 浅灰 |
| 文字主色 | #212529 | 标题文字 |
| 文字次色 | #495057 | 正文文字 |
| 边框色 | #dee2e6 | 分割线 |

### 7.2 尺寸
| 元素 | 尺寸 |
|------|------|
| 卡片 | 200×300px |
| 详情弹窗 | 最大 720px 宽 |
| 左侧图片 | 200×356px (9:16) |
| 圆角 | 16-20px 大圆角 |
| 按钮圆角 | 8px |

### 7.3 字体
- 标题：18-22px，font-weight: 700
- 正文：14-15px，line-height: 1.6
- 标签：10-12px，圆角胶囊样式
- 按钮：13px，font-weight: 500

---

## 8. 关键交互原则

1. **扁平优先**：减少层级跳转，核心能力同屏完成
2. **点击即编辑**：无需切换模式，直接编辑内容
3. **所见即所得**：预览与编辑一体化
4. **类型驱动**：字段由卡片类型配置决定，不可随意添加
